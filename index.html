<!DOCTYPE html>
<html lang="en" :class="{ 'dark': isDarkMode }">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Object Storage Pricing Calculator</title>
  <!-- Favicon - Database/Storage icon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%234f46e5'%3E%3Cpath d='M12 2C6.48 2 2 3.79 2 6v12c0 2.21 4.48 4 10 4s10-1.79 10-4V6c0-2.21-4.48-4-10-4zm0 2c4.42 0 8 1.34 8 3s-3.58 3-8 3-8-1.34-8-3 3.58-3 8-3zM4 9.47c1.62.94 4.52 1.53 8 1.53s6.38-.59 8-1.53V12c0 1.66-3.58 3-8 3s-8-1.34-8-3V9.47zm0 5c1.62.94 4.52 1.53 8 1.53s6.38-.59 8-1.53V17c0 1.66-3.58 3-8 3s-8-1.34-8-3v-2.53z'/%3E%3C/svg%3E">
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        screens: {
          'xs': '400px',
          'sm': '640px',
          'md': '768px',
          'lg': '1024px',
          'xl': '1280px',
          '2xl': '1536px',
        },
        extend: {
          colors: {
            primary: {
              50: '#eef2ff',
              100: '#e0e7ff',
              200: '#c7d2fe',
              300: '#a5b4fc',
              400: '#818cf8',
              500: '#6366f1',
              600: '#4f46e5',
              700: '#4338ca',
              800: '#3730a3',
              900: '#312e81',
            }
          }
        }
      }
    };
  </script>
  <style>
    [v-cloak] { display: none; }
    
    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    ::-webkit-scrollbar-track {
      background: transparent;
    }
    ::-webkit-scrollbar-thumb {
      background: #cbd5e1;
      border-radius: 4px;
    }
    .dark ::-webkit-scrollbar-thumb {
      background: #475569;
    }
    
    /* Smooth transitions */
    * {
      transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
    }
    
    /* Input number spinner - hide native */
    input[type="number"]::-webkit-inner-spin-button,
    input[type="number"]::-webkit-outer-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
    input[type="number"] {
      -moz-appearance: textfield;
      appearance: textfield;
    }
    
    /* Card hover effect */
    .provider-card {
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .provider-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    }
    .dark .provider-card:hover {
      box-shadow: 0 8px 25px -5px rgb(0 0 0 / 0.3), 0 8px 10px -6px rgb(0 0 0 / 0.3);
    }
  </style>
</head>
<body class="bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-100 min-h-screen">
  <div id="app" v-cloak class="font-sans max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8">
    <!-- Header -->
    <header class="relative overflow-hidden bg-gradient-to-r from-primary-600 to-primary-700 dark:from-primary-700 dark:to-primary-800 text-white py-6 sm:py-8 px-6 sm:px-8 rounded-2xl shadow-xl">
      <div class="absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"></div>
      <div class="relative flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
        <div>
          <h1 class="text-2xl sm:text-3xl font-bold tracking-tight">Object Storage Pricing Calculator</h1>
          <p class="mt-1 text-primary-100 text-sm sm:text-base">Compare prices across major cloud providers</p>
        </div>
        <div class="flex items-center gap-2">
          <a href="https://github.com/aradabir007/object-storage-calculator" target="_blank" rel="noopener noreferrer"
             class="p-3 rounded-xl bg-white/10 hover:bg-white/20 backdrop-blur-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white/50"
             aria-label="View on GitHub">
            <!-- GitHub Icon -->
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5 sm:h-6 sm:w-6">
              <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
            </svg>
          </a>
          <button @click="toggleDarkMode" 
                  class="p-3 rounded-xl bg-white/10 hover:bg-white/20 backdrop-blur-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white/50"
                  :aria-label="isDarkMode ? 'Switch to light mode' : 'Switch to dark mode'">
          <!-- Moon Icon -->
          <svg v-if="isDarkMode" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-5 w-5 sm:h-6 sm:w-6">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21.752 15.002A9.72 9.72 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" />
          </svg>
          <!-- Sun Icon -->
          <svg v-else xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-5 w-5 sm:h-6 sm:w-6">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" />
          </svg>
        </button>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="mt-6 sm:mt-8">
      <!-- Input Section -->
      <div class="bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 sm:p-8 border border-slate-200 dark:border-slate-700">
        <h2 class="text-lg font-semibold text-slate-800 dark:text-slate-200 mb-4 flex items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-primary-500">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008zm0 2.25h.008v.008H8.25V13.5zm0 2.25h.008v.008H8.25v-.008zm0 2.25h.008v.008H8.25V18zm2.498-6.75h.007v.008h-.007v-.008zm0 2.25h.007v.008h-.007V13.5zm0 2.25h.007v.008h-.007v-.008zm0 2.25h.007v.008h-.007V18zm2.504-6.75h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V13.5zm0 2.25h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V18zm2.498-6.75h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V13.5zM8.25 6h7.5v2.25h-7.5V6zM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 002.25 2.25h10.5a2.25 2.25 0 002.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0012 2.25z" />
          </svg>
          Calculate Your Costs
        </h2>
        <form class="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6">
          <div class="space-y-2">
            <label for="storage" class="block text-sm font-medium text-slate-700 dark:text-slate-300">
              Storage Amount
            </label>
            <div class="relative flex items-center">
              <button type="button" @click="storage = Math.max(0, storage - 1)" 
                      class="absolute left-0 h-full px-3 text-slate-500 hover:text-primary-600 dark:text-slate-400 dark:hover:text-primary-400 hover:bg-slate-100 dark:hover:bg-slate-600 rounded-l-xl transition-colors focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h14" />
                </svg>
              </button>
              <input v-model.number="storage" 
                     type="number" 
                     id="storage" 
                     min="0"
                     placeholder="0" 
                     class="w-full px-12 py-3 bg-slate-50 dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-xl text-slate-900 dark:text-slate-100 placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-lg font-medium text-center">
              <button type="button" @click="storage++" 
                      class="absolute right-12 h-full px-3 text-slate-500 hover:text-primary-600 dark:text-slate-400 dark:hover:text-primary-400 hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
                </svg>
              </button>
              <span class="absolute right-4 top-1/2 -translate-y-1/2 text-slate-500 dark:text-slate-400 font-medium pointer-events-none">GB</span>
            </div>
          </div>
          <div class="space-y-2">
            <label for="traffic" class="block text-sm font-medium text-slate-700 dark:text-slate-300">
              Monthly Egress Traffic
            </label>
            <div class="relative flex items-center">
              <button type="button" @click="traffic = Math.max(0, traffic - 1)" 
                      class="absolute left-0 h-full px-3 text-slate-500 hover:text-primary-600 dark:text-slate-400 dark:hover:text-primary-400 hover:bg-slate-100 dark:hover:bg-slate-600 rounded-l-xl transition-colors focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h14" />
                </svg>
              </button>
              <input v-model.number="traffic" 
                     type="number" 
                     id="traffic" 
                     min="0"
                     placeholder="0" 
                     class="w-full px-12 py-3 bg-slate-50 dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-xl text-slate-900 dark:text-slate-100 placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-lg font-medium text-center">
              <button type="button" @click="traffic++" 
                      class="absolute right-12 h-full px-3 text-slate-500 hover:text-primary-600 dark:text-slate-400 dark:hover:text-primary-400 hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
                </svg>
              </button>
              <span class="absolute right-4 top-1/2 -translate-y-1/2 text-slate-500 dark:text-slate-400 font-medium pointer-events-none">GB</span>
            </div>
          </div>
        </form>
        
        <!-- Quick presets -->
        <div class="mt-4 pt-4 border-t border-slate-200 dark:border-slate-700">
          <p class="text-xs text-slate-500 dark:text-slate-400 mb-2">Quick presets:</p>
          <div class="flex flex-wrap gap-2">
            <button @click="storage = 50; traffic = 100" 
                    class="px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-primary-100 hover:text-primary-700 dark:hover:bg-primary-900/50 dark:hover:text-primary-300 transition-colors">
              Hobby (50GB / 100GB)
            </button>
            <button @click="storage = 100; traffic = 500" 
                    class="px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-primary-100 hover:text-primary-700 dark:hover:bg-primary-900/50 dark:hover:text-primary-300 transition-colors">
              Small (100GB / 500GB)
            </button>
            <button @click="storage = 500; traffic = 1024" 
                    class="px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-primary-100 hover:text-primary-700 dark:hover:bg-primary-900/50 dark:hover:text-primary-300 transition-colors">
              Startup (500GB / 1TB)
            </button>
            <button @click="storage = 1024; traffic = 2048" 
                    class="px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-primary-100 hover:text-primary-700 dark:hover:bg-primary-900/50 dark:hover:text-primary-300 transition-colors">
              Medium (1TB / 2TB)
            </button>
            <button @click="storage = 5120; traffic = 10240" 
                    class="px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-primary-100 hover:text-primary-700 dark:hover:bg-primary-900/50 dark:hover:text-primary-300 transition-colors">
              Business (5TB / 10TB)
            </button>
            <button @click="storage = 10240; traffic = 20480" 
                    class="px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-primary-100 hover:text-primary-700 dark:hover:bg-primary-900/50 dark:hover:text-primary-300 transition-colors">
              Large (10TB / 20TB)
            </button>
            <button @click="storage = 51200; traffic = 102400" 
                    class="px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-primary-100 hover:text-primary-700 dark:hover:bg-primary-900/50 dark:hover:text-primary-300 transition-colors">
              Enterprise (50TB / 100TB)
            </button>
          </div>
        </div>
      </div>

      <!-- Results Section -->
      <div class="mt-6 sm:mt-8">
        <!-- Sort Button for Mobile -->
        <div class="flex flex-col xs:flex-row xs:items-center xs:justify-between gap-3 mb-4">
          <h2 class="text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-200 flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-primary-500 flex-shrink-0">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z" />
            </svg>
            <span>Price Comparison</span>
            <span class="text-xs sm:text-sm font-normal text-slate-500 dark:text-slate-400">({{ results.length }})</span>
          </h2>
          <button @click="sortBy('totalCostUSD')" 
                  class="flex items-center justify-center gap-1.5 px-3 py-2 text-xs sm:text-sm font-medium rounded-lg bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors shadow-sm whitespace-nowrap self-start">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 flex-shrink-0">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3 7.5L7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5" />
            </svg>
            <span>Sort by Cost</span>
            <span v-if="sortKey === 'totalCostUSD'" class="text-xs text-primary-500">
              {{ sortOrder === 'asc' ? '↑' : '↓' }}
            </span>
          </button>
        </div>

        <!-- Desktop Table View -->
        <div class="hidden lg:block bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden">
          <div class="overflow-x-auto">
            <table class="w-full">
              <thead>
                <tr class="bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700">
                  <th class="text-left p-4 font-semibold text-slate-700 dark:text-slate-300 text-sm">Provider</th>
                  <th class="text-center p-4 font-semibold text-slate-700 dark:text-slate-300 text-sm">Storage Unit</th>
                  <th class="text-center p-4 font-semibold text-slate-700 dark:text-slate-300 text-sm">Traffic Unit</th>
                  <th class="text-center p-4 font-semibold text-slate-700 dark:text-slate-300 text-sm">Storage Price</th>
                  <th class="text-center p-4 font-semibold text-slate-700 dark:text-slate-300 text-sm">Traffic Price</th>
                  <th class="text-center p-4 font-semibold text-slate-700 dark:text-slate-300 text-sm">Billable Traffic</th>
                  <th @click="sortBy('totalCostUSD')" 
                      class="text-center p-4 font-semibold text-slate-700 dark:text-slate-300 text-sm cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors">
                    <div class="flex items-center justify-center gap-1">
                      <span>Monthly Cost</span>
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="h-4 w-4">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9" />
                      </svg>
                    </div>
                  </th>
                </tr>
              </thead>
              <tbody class="divide-y divide-slate-200 dark:divide-slate-700">
                <tr v-for="(provider, index) in results" 
                    :key="provider.name" 
                    class="hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors"
                    :class="{ 'bg-green-50/50 dark:bg-green-900/10': hasInput && index === 0 && sortKey === 'totalCostUSD' && sortOrder === 'asc' }">
                  <td class="p-4">
                    <div class="flex items-center gap-2">
                      <span v-if="hasInput && index === 0 && sortKey === 'totalCostUSD' && sortOrder === 'asc'" 
                            class="flex-shrink-0 w-6 h-6 rounded-full bg-green-500 text-white text-xs font-bold flex items-center justify-center">1</span>
                      <span v-else 
                            class="flex-shrink-0 w-6 h-6 rounded-full bg-slate-200 dark:bg-slate-600 text-slate-600 dark:text-slate-300 text-xs font-medium flex items-center justify-center">{{ index + 1 }}</span>
                      <span class="font-medium text-slate-900 dark:text-slate-100">{{ provider.name }}</span>
                    </div>
                  </td>
                  <td class="p-4 text-center text-slate-600 dark:text-slate-400">{{ provider.billingUnitStorage }} GB</td>
                  <td class="p-4 text-center text-slate-600 dark:text-slate-400">{{ provider.billingUnitTraffic }} GB</td>
                  <td class="p-4 text-center text-slate-600 dark:text-slate-400">{{ provider.storagePriceDisplay }}</td>
                  <td class="p-4 text-center">
                    <span :class="provider.trafficPriceDisplay === 'Free' ? 'text-green-600 dark:text-green-400 font-medium' : 'text-slate-600 dark:text-slate-400'">
                      {{ provider.trafficPriceDisplay }}
                    </span>
                  </td>
                  <td class="p-4 text-center text-slate-600 dark:text-slate-400">{{ provider.chargeableTraffic }} GB</td>
                  <td class="p-4 text-center">
                    <div class="font-semibold text-slate-900 dark:text-slate-100">
                      <span v-if="provider.currency === '€'">
                        €{{ provider.totalCost.toFixed(2) }}
                        <span class="text-sm text-slate-500 dark:text-slate-400 font-normal">(≈ ${{ provider.totalCostUSD.toFixed(2) }})</span>
                      </span>
                      <span v-else>
                        ${{ provider.totalCost.toFixed(2) }}
                      </span>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Mobile Card View -->
        <div class="lg:hidden grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div v-for="(provider, index) in results" 
               :key="provider.name" 
               class="provider-card bg-white dark:bg-slate-800 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 overflow-hidden"
               :class="{ 'ring-2 ring-green-500 dark:ring-green-400': hasInput && index === 0 && sortKey === 'totalCostUSD' && sortOrder === 'asc' }">
            <!-- Card Header -->
            <div class="px-4 py-3 bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between">
              <div class="flex items-center gap-2">
                <span v-if="hasInput && index === 0 && sortKey === 'totalCostUSD' && sortOrder === 'asc'" 
                      class="flex-shrink-0 w-6 h-6 rounded-full bg-green-500 text-white text-xs font-bold flex items-center justify-center">1</span>
                <span v-else 
                      class="flex-shrink-0 w-6 h-6 rounded-full bg-slate-200 dark:bg-slate-600 text-slate-600 dark:text-slate-300 text-xs font-medium flex items-center justify-center">{{ index + 1 }}</span>
                <h3 class="font-semibold text-slate-900 dark:text-slate-100">{{ provider.name }}</h3>
              </div>
              <span v-if="hasInput && index === 0 && sortKey === 'totalCostUSD' && sortOrder === 'asc'" 
                    class="px-2 py-0.5 text-xs font-medium rounded-full bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300">
                Best Price
              </span>
            </div>
            
            <!-- Card Body -->
            <div class="p-4 space-y-3">
              <!-- Monthly Cost - Prominent -->
              <div class="text-center py-3 px-4 bg-primary-50 dark:bg-primary-900/20 rounded-lg">
                <p class="text-xs text-slate-500 dark:text-slate-400 mb-1">Monthly Cost</p>
                <p class="text-2xl font-bold text-primary-600 dark:text-primary-400">
                  <span v-if="provider.currency === '€'">
                    €{{ provider.totalCost.toFixed(2) }}
                  </span>
                  <span v-else>
                    ${{ provider.totalCost.toFixed(2) }}
                  </span>
                </p>
                <p v-if="provider.currency === '€'" class="text-xs text-slate-500 dark:text-slate-400 mt-1">
                  ≈ ${{ provider.totalCostUSD.toFixed(2) }} USD
                </p>
              </div>
              
              <!-- Details Grid -->
              <div class="grid grid-cols-2 gap-3 text-sm">
                <div class="space-y-1">
                  <p class="text-xs text-slate-500 dark:text-slate-400">Storage Price</p>
                  <p class="font-medium text-slate-700 dark:text-slate-300">{{ provider.storagePriceDisplay }}</p>
                </div>
                <div class="space-y-1">
                  <p class="text-xs text-slate-500 dark:text-slate-400">Traffic Price</p>
                  <p class="font-medium" :class="provider.trafficPriceDisplay === 'Free' ? 'text-green-600 dark:text-green-400' : 'text-slate-700 dark:text-slate-300'">
                    {{ provider.trafficPriceDisplay }}
                  </p>
                </div>
                <div class="space-y-1">
                  <p class="text-xs text-slate-500 dark:text-slate-400">Storage Unit</p>
                  <p class="font-medium text-slate-700 dark:text-slate-300">{{ provider.billingUnitStorage }} GB</p>
                </div>
                <div class="space-y-1">
                  <p class="text-xs text-slate-500 dark:text-slate-400">Billable Traffic</p>
                  <p class="font-medium text-slate-700 dark:text-slate-300">{{ provider.chargeableTraffic }} GB</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Notes Section -->
      <section class="mt-6 sm:mt-8 bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 sm:p-8 border border-slate-200 dark:border-slate-700">
        <button @click="notesOpen = !notesOpen" 
                class="w-full flex items-center justify-between text-left">
          <h2 class="text-lg font-semibold text-slate-800 dark:text-slate-200 flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-primary-500">
              <path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" />
            </svg>
            Important Notes
          </h2>
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" 
               class="w-5 h-5 text-slate-400 transition-transform duration-200"
               :class="{ 'rotate-180': notesOpen }">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
          </svg>
        </button>
        <div v-show="notesOpen" class="mt-4 space-y-2">
          <div v-for="note in notes" :key="note" class="flex gap-3 text-sm text-slate-600 dark:text-slate-400">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4 mt-0.5 flex-shrink-0 text-primary-500">
              <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
            </svg>
            <span>{{ note }}</span>
          </div>
        </div>
      </section>

      <!-- Changelog Section -->
      <section class="mt-6 sm:mt-8 bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 sm:p-8 border border-slate-200 dark:border-slate-700">
        <button @click="changelogOpen = !changelogOpen" 
                class="w-full flex items-center justify-between text-left">
          <h2 class="text-lg font-semibold text-slate-800 dark:text-slate-200 flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-primary-500">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            Changelog
          </h2>
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" 
               class="w-5 h-5 text-slate-400 transition-transform duration-200"
               :class="{ 'rotate-180': changelogOpen }">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
          </svg>
        </button>
        <div v-show="changelogOpen" class="mt-4 space-y-4">
          <div v-for="entry in changelog" :key="entry.date" class="border-l-2 border-primary-500 pl-4">
            <p class="text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2">{{ entry.date }}</p>
            <ul class="space-y-1">
              <li v-for="change in entry.changes" :key="change" class="flex gap-2 text-sm text-slate-600 dark:text-slate-400">
                <span class="text-primary-500">•</span>
                <span>{{ change }}</span>
              </li>
            </ul>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="mt-8 sm:mt-12 pb-6 text-center">
      <div class="flex items-center justify-center gap-2 mb-3">
        <div class="h-px w-12 bg-gradient-to-r from-transparent to-slate-300 dark:to-slate-600"></div>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-slate-400">
          <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125" />
        </svg>
        <div class="h-px w-12 bg-gradient-to-l from-transparent to-slate-300 dark:to-slate-600"></div>
      </div>
      <p class="text-slate-600 dark:text-slate-400 font-medium">&copy; {{ currentYear }} Object Storage Calculator</p>
      <p class="text-sm text-slate-500 dark:text-slate-500 mt-2">
        Built with AI
        <span class="text-slate-400 dark:text-slate-600 mx-1">•</span>
        Prices manually verified
      </p>
    </footer>
  </div>

  <!-- Vue.js -->
  <script src="https://cdn.jsdelivr.net/npm/vue@3"></script>
  <script>
    const app = Vue.createApp({
      data() {
        return {
          storage: 0,
          traffic: 0,
          isDarkMode: localStorage.getItem('darkMode') === 'true' || window.matchMedia('(prefers-color-scheme: dark)').matches,
          currentYear: new Date().getFullYear(),
          usdSymbol: '$',
          eurToUsdRate: null,
          sortKey: 'totalCostUSD',
          sortOrder: 'asc',
          notesOpen: false,
          changelogOpen: false,
          notes: [
            "All prices are calculated based on the provider's billing model (per GB or per TB).",
            "Providers with per TB pricing round up storage and traffic to the nearest TB.",
            "Some providers include free traffic allowances based on storage or fixed amounts.",
            "Some providers have minimum storage charges in their pricing.",
            "Some providers have tiered traffic rates which reduces pricing based on usage.",
            "This calculator takes all of the details mentioned above into account.",
            "1TB equals 1024GB.",
            "Uses EU location (mostly Germany) for all providers.",
            "Some providers charge for less than 1GB but this calculator uses 1GB minimum for all providers.",
            "Costs are displayed in each provider's respective currency.",
            "Exchange rates are fetched dynamically from reliable sources but may still fluctuate.",
            "*Wasabi has a 90-day retention policy and only allows free traffic for up to the stored amount without any paid overage option.",
            "*Storadera has a fair usage policy where the allowed monthly download amount equals your stored amount.",
            "Please confirm pricing details with providers as they may vary based on your region."
          ],
          changelog: [
            { date: "2025-12-28", changes: ["Added Railway with free egress/ingress", "Added Exoscale with tiered storage pricing", "Added Storadera with fair usage traffic policy", "Major UI overhaul with mobile-friendly card layout", "Added quick preset buttons for common usage scenarios", "Improved dark mode with better color scheme", "Added collapsible notes section"] },
          ],
          providers: [
            // Providers
            {
              name: "DigitalOcean Spaces",
              currency: "$",
              storagePrice: 0.02, // $0.02 per GB over 250GB
              trafficPrice: 0.01, // $0.01 per GB over 1TB
              billingUnitStorage: 1,
              billingUnitTraffic: 1,
              minimumStorageCharge: 5, // Minimum charge of $5 for up to 250GB storage
              includedStorage: 250, // 250GB storage included in minimum charge
              includedTraffic: 1024, // 1TB traffic included in minimum charge
            },
            {
              name: "Bunny Storage",
              currency: "$",
              storagePrice: 0.01, // per GB
              trafficPrice: 0.005, // per GB for the first 500TB
              // Traffic pricing is tiered
              billingUnitStorage: 1, // per GB
              billingUnitTraffic: 1, // per GB
              freeTrafficAllowance: 0,
              tieredTrafficPricing: [
                { limit: 500 * 1024, price: 0.005 }, // Up to 500TB
                { limit: 1000 * 1024, price: 0.004 }, // 500TB to 1PB
                { limit: 2000 * 1024, price: 0.002 }, // 1PB to 2PB
              ],
            },
            {
              name: "AWS S3",
              currency: "$",
              storagePrice: 0.0245,
              trafficPrice: 0.09,
              billingUnitStorage: 1,
              billingUnitTraffic: 1,
              freeTrafficAllowance: 0,
              tieredStoragePricing: [
                { limit: 10 * 1024, price: 0.0245 }, // Up to 50TB
                { limit: 50 * 1024, price: 0.0235 }, // 50TB to 500TB
                { limit: Infinity, price: 0.0225 }, // 500TB+
              ],
              tieredTrafficPricing: [
                { limit: 10 * 1024, price: 0.09 }, // Up to 10TB
                { limit: 40 * 1024, price: 0.085 }, // 40TB to 100TB
                { limit: 100 * 1024, price: 0.07 }, // 100TB to 150TB
                { limit: Infinity, price: 0.05 }, // 150TB+
              ],
            },
            {
              name: "Contabo",
              currency: "€",
              storagePrice: 2.49, // €2.49 per 250GB
              trafficPrice: 0,
              billingUnitStorage: 250, // 250GB increments
              billingUnitTraffic: 1,
              freeTrafficAllowance: Infinity,
            },
            {
              name: "Azure Blob Storage",
              currency: "$",
              storagePrice: 0.0208,
              trafficPrice: 0.08,
              billingUnitStorage: 1,
              billingUnitTraffic: 1,
              freeTrafficAllowance: 0,
            },
            {
              name: "Backblaze B2",
              currency: "$",
              storagePrice: 0.006, // per TB
              trafficPrice: 0.01, // per GB
              billingUnitStorage: 1, // per GB
              billingUnitTraffic: 1, // per GB
              freeTrafficAllowance: 0,
              freeTrafficMultiplier: 3, // 3x the stored amount
            },
            {
              name: "Cloudflare R2",
              currency: "$",
              storagePrice: 0.015,
              trafficPrice: 0, // Free traffic
              billingUnitStorage: 1,
              billingUnitTraffic: 1,
              freeTrafficAllowance: Infinity, // Unlimited free traffic
            },
            {
              name: "Tigris",
              currency: "$",
              storagePrice: 0.02,
              trafficPrice: 0, // Free traffic
              billingUnitStorage: 1,
              billingUnitTraffic: 1,
              freeTrafficAllowance: Infinity, // Unlimited free traffic
              freeStorageAllowance: 5, // 5GB free storage
            },
            {
              name: "Hetzner",
              currency: "€",
              storagePrice: 0.00487, // per GB
              trafficPrice: 0.00098, // per GB
              billingUnitStorage: 1, // per GB
              billingUnitTraffic: 1, // per GB
	      minimumStorageCharge: 4.99, // Minimum charge of $5 for up to 250GB storage
              includedStorage: 1024, // 1TB storage included in minimum charge
              includedTraffic: 1024, // 1TB traffic included in minimum charge
            },
			{
              name: "IDrive e2",
              currency: "$",
              storagePrice: 5, // per TB
              trafficPrice: 0, // per TB
              billingUnitStorage: 1024, // per TB
              billingUnitTraffic: 1, // per TB
              freeTrafficAllowance: Infinity, // Unlimited free traffic
            },
            {
              name: "Vultr",
              currency: "$",
              storagePrice: 6, // per TB
              trafficPrice: 10, // per TB
              billingUnitStorage: 1024, // per TB
              billingUnitTraffic: 1024, // per TB
              freeTrafficAllowance: 1024, // 1TB free traffic
            },
            {
              name: "Google Cloud Storage",
              currency: "$",
              storagePrice: 0.023,
              trafficPrice: 0.12,
              billingUnitStorage: 1,
              billingUnitTraffic: 1,
              freeTrafficAllowance: 0,
            },
            {
              name: "IONOS",
              currency: "$",
              storagePrice: 0.008, // per GB
              trafficPrice: 0.036, // per GB for the next 8TB after the free 2TB. 2TB to 10TB.
              // Traffic pricing is tiered
              billingUnitStorage: 1, // per GB
              billingUnitTraffic: 1, // per GB
              freeTrafficAllowance: 2048, // 2TB free traffic
              // Tiered pricing isn't retroactive so previous tiers are calculated at their respective rates.
              // For chargeableTraffic: first 8TB at $0.036, next 40TB at $0.03, etc.
              tieredTrafficPricing: [
                { limit: 8 * 1024, price: 0.036 },   // Up to 8 TB
                { limit: 48 * 1024, price: 0.03 },    // 8 TB to 48 TB
                { limit: 148 * 1024, price: 0.024 },  // 48 TB to 148 TB
                { limit: Infinity, price: 0.018 },    // Over 148 TB
              ],
            },
            {
              name: "Storj",
              currency: "$",
              storagePrice: 0.004,
              trafficPrice: 0.007,
              billingUnitStorage: 1,
              billingUnitTraffic: 1,
              freeTrafficAllowance: 0,
            },
            {
              name: "OVH",
              currency: "€",
              storagePrice: 0.00746,
              trafficPrice: 0.01,
              billingUnitStorage: 1,
              billingUnitTraffic: 1,
              freeTrafficAllowance: 0,
            },
            {
              name: "Wasabi*",
              currency: "$",
              storagePrice: 6.99, // per TB
              trafficPrice: 0, // Free up to stored amount
              billingUnitStorage: 1024, // per TB
              billingUnitTraffic: 1, // per GB
              freeTrafficAllowance: 0, // Handled via freeTrafficMultiplier
              freeTrafficMultiplier: 1, // Free up to stored amount
            },
            {
              name: "Scaleway",
              currency: "€",
              storagePrice: 0.012,
              trafficPrice: 0.01,
              billingUnitStorage: 1,
              billingUnitTraffic: 1,
              freeStorageAllowance: 75, // 75GB free storage
              freeTrafficAllowance: 0,
            },
            {
              name: "Linode",
              currency: "$",
              storagePrice: 0.02, // $0.02 per GB over 250GB
              trafficPrice: 0.005, // $0.005 per GB over 1TB
              billingUnitStorage: 1,
              billingUnitTraffic: 1,
              minimumStorageCharge: 5, // Minimum charge of $5 for up to 250GB storage
              includedStorage: 250, // 250GB storage included in minimum charge
              includedTraffic: 1024, // 1TB traffic included in minimum charge
            },
            {
              name: "Exoscale",
              currency: "€",
              storagePrice: 0.020075, // €0.00002750/GiB.hour × 730 hours/month
              trafficPrice: 0.02, // €0.02 per GiB
              billingUnitStorage: 1,
              billingUnitTraffic: 1,
              freeTrafficAllowance: 0,
              tieredStoragePricing: [
                { limit: 512 * 1024, price: 0.020075 }, // Up to 512 TiB (€0.00002750/GiB.hour × 730)
                { limit: 1024 * 1024, price: 0.0136875 }, // 512 TiB to 1 PiB (€0.00001875/GiB.hour × 730)
                { limit: Infinity, price: 0.0101397 }, // Over 1 PiB (€0.00001389/GiB.hour × 730)
              ],
            },
            {
              name: "Storadera*",
              currency: "€",
              storagePrice: 7, // €7 per TB
              trafficPrice: 0, // Free up to stored amount
              billingUnitStorage: 1024, // per TB
              billingUnitTraffic: 1, // per GB
              freeTrafficAllowance: 0, // Handled via freeTrafficMultiplier
              freeTrafficMultiplier: 1, // Free up to stored amount (fair usage policy)
            },
            {
              name: "Railway",
              currency: "$",
              storagePrice: 0.015, // $0.015 per GB
              trafficPrice: 0, // Free traffic
              billingUnitStorage: 1,
              billingUnitTraffic: 1,
              freeTrafficAllowance: Infinity, // Unlimited free traffic
            },
          ],
        };
      },
      computed: {
        hasInput() {
          return this.storage > 0 || this.traffic > 0;
        },
        results() {
          return this.providers
            .map(provider => {
              let storageInGB = this.storage;
              let trafficInGB = this.traffic;

              let storageCost = 0;
              let trafficCost = 0;
              let freeTraffic = 0;
              let chargeableTraffic = 0;

              // Apply free storage allowance if available
              if (provider.freeStorageAllowance) {
                storageInGB = Math.max(storageInGB - provider.freeStorageAllowance, 0);
              }

              // Handle providers with minimum storage charge and included traffic
              if (provider.minimumStorageCharge !== undefined) {
                // For providers like DigitalOcean Spaces and Linode
                if (storageInGB <= provider.includedStorage) {
                  storageCost = provider.minimumStorageCharge;
                } else {
                  storageCost = provider.minimumStorageCharge + (storageInGB - provider.includedStorage) * provider.storagePrice;
                }

                if (trafficInGB <= provider.includedTraffic) {
                  trafficCost = 0;
                  chargeableTraffic = 0;
                } else {
                  chargeableTraffic = trafficInGB - provider.includedTraffic;
                  trafficCost = chargeableTraffic * provider.trafficPrice;
                }
              } else {
                // Handle minimum storage charges
                if (provider.minimumStorage && storageInGB < provider.minimumStorage) {
                  storageInGB = provider.minimumStorage;
                }

                // Calculate storage in billing units
                const storageInBillingUnits = Math.ceil(storageInGB / provider.billingUnitStorage);

                // Calculate storage cost
                storageCost = storageInBillingUnits * provider.storagePrice;

                // Calculate free traffic allowance
                if (provider.freeTrafficMultiplier) {
                  freeTraffic = this.storage * provider.freeTrafficMultiplier;
                } else if (provider.freeTrafficAllowance !== undefined) {
                  freeTraffic = provider.freeTrafficAllowance;
                } else {
                  freeTraffic = 0;
                }

                // Special case for Wasabi* (free traffic up to stored amount)
                if (provider.name === "Wasabi*") {
                  freeTraffic = this.storage;
                }

                // Calculate chargeable traffic
                chargeableTraffic = trafficInGB - freeTraffic;
                if (chargeableTraffic < 0) chargeableTraffic = 0;

                // Handle traffic cost
                if (provider.tieredTrafficPricing) {
                  // For providers with tiered traffic pricing
                  let remainingTraffic = chargeableTraffic;
                  let lastLimit = 0;
                  for (let tier of provider.tieredTrafficPricing) {
                    if (remainingTraffic <= 0) break;
                    const tierSize = Math.min(remainingTraffic, tier.limit - lastLimit);
                    trafficCost += tierSize * tier.price;
                    remainingTraffic -= tierSize;
                    lastLimit = tier.limit;
                  }
                } else {
                  // Convert chargeable traffic to billing units
                  const trafficInBillingUnits = Math.ceil(chargeableTraffic / provider.billingUnitTraffic);
                  trafficCost = trafficInBillingUnits * provider.trafficPrice;
                }
              }

              const totalCost = storageCost + trafficCost;

              // Prepare traffic price display (handle free traffic)
              let trafficPriceDisplay = provider.trafficPrice
                ? `${provider.currency} ${provider.trafficPrice}`
                : "Free";

              // Handle providers with special traffic pricing
              if (provider.tieredTrafficPricing) {
                trafficPriceDisplay = "Tiered";
              }

              // Prepare storage price display
              let storagePriceDisplay = provider.storagePrice
                ? `${provider.currency} ${provider.storagePrice}`
                : "Included";

              // Calculate USD equivalent for EUR providers
              let totalCostUSD = 0;
              if (provider.currency === '€') {
                if (this.eurToUsdRate) {
                  totalCostUSD = totalCost * this.eurToUsdRate;
                } else {
                  // If exchange rate not available, use a default rate
                  totalCostUSD = totalCost * 1.1;
                }
              } else {
                totalCostUSD = totalCost; // For '$' currencies
              }

              return {
                ...provider,
                totalCost,
                totalCostUSD,
                chargeableTraffic: Math.ceil(chargeableTraffic),
                trafficPriceDisplay,
                storagePriceDisplay,
              };
            })
            .sort((a, b) => {
              if (this.sortKey === 'totalCostUSD') {
                if (this.sortOrder === 'asc') {
                  return a.totalCostUSD - b.totalCostUSD;
                } else {
                  return b.totalCostUSD - a.totalCostUSD;
                }
              } else {
                // Default sorting by name
                return this.sortOrder === 'asc'
                  ? a.name.localeCompare(b.name)
                  : b.name.localeCompare(a.name);
              }
            });
        },
      },
      methods: {
        toggleDarkMode() {
          this.isDarkMode = !this.isDarkMode;
          localStorage.setItem('darkMode', this.isDarkMode);
          if (this.isDarkMode) {
            document.documentElement.classList.add('dark');
          } else {
            document.documentElement.classList.remove('dark');
          }
        },
        fetchExchangeRate() {
          const primaryUrl = 'https://cdn.jsdelivr.net/npm/@fawazahmed0/currency-api@latest/v1/currencies/eur.json';
          const backupUrl = 'https://latest.currency-api.pages.dev/v1/currencies/eur.json';

          const fetchRate = (url) => {
            return fetch(url)
              .then(response => response.json())
              .then(data => {
                if (data && data.eur && data.eur.usd) {
                  return data.eur.usd;
                } else {
                  throw new Error('Invalid data structure');
                }
              });
          };

          fetchRate(primaryUrl)
            .then(rate => {
              this.eurToUsdRate = rate;
            })
            .catch(() => {
              // Try the backup API
              fetchRate(backupUrl)
                .then(rate => {
                  this.eurToUsdRate = rate;
                })
                .catch(() => {
                  // Fallback to default rate
                  this.eurToUsdRate = 1.1;
                  console.error('Failed to fetch exchange rate from both APIs. Using default rate.');
                });
            });
        },
        sortBy(key) {
          if (this.sortKey === key) {
            this.sortOrder = this.sortOrder === 'asc' ? 'desc' : 'asc';
          } else {
            this.sortKey = key;
            this.sortOrder = 'asc';
          }
        },
      },
      mounted() {
        if (this.isDarkMode) {
          document.documentElement.classList.add('dark');
        }
        this.fetchExchangeRate();
      },
    });

    app.mount("#app");
  </script>
</body>
</html>
